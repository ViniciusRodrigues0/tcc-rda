<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Deleta</title>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
    <header>
        <div class="header"><img src="/Img-Site/RDA.png" alt="Logo"></div>
    </header>
    
    <h1>Deletar</h1>
    
    <div id="divBusca">
        <input type="text" id="txtBusca" placeholder="Buscar pelo RG..." oninput="formatarRG()" maxlength="12"/>
        <button id="busca-rg" onclick="BuscaAluno2()">Buscar</button>
        
    </div>

    <br><br>

    <div class="card" id="cardAluno" style="display:none">
        
        <div class="caixaDelete">
            <img src="Img-Site/excluirADM.png" alt="" onclick="Excluir()" class="deletaimg">
            <img id="imagem-aluno" class="imagem-aluno" src="" alt="Imagem do Aluno">
        </div>
        <hr>
        <div class="info">
            <div class="details">
                <div class="detailsEsquerda">
                    <div id="nome-aluno"></div>
                    <span>Nome do Aluno</span>
                    <div class="dadosCarteira">
                        <p id="data-aluno"></p>
                        <span>Data de Nascimento</span>
                    </div>
                </div>
                <div class="detailsDireita">
                    <div class="dadosCarteira">
                        <p id="uni-aluno"></p>
                        <span>Unidade</span>
                    </div>
                    <div class="dadosCarteira">
                        <p id="vali-aluno"></p>
                        <span>Validade</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="qr-code">
            <img id="qr-code" src="" alt="QR Code">
        </div>
        <div class="caixa-rodape">
            <img src="Img-Site/image.png" alt="">
        </div>
    </div>

    <footer>
        <div class="box">
            <a href="/PaginaDesktop.html"><img src="/Img-Site/big-id-card.png" alt="Página Carterinha"></a>
        </div>

        <div class="box">
            <a href="/Atualizar.html"><img src="/Img-Site/recarregar.png" alt="Página Notificações"></a>
        </div>

        <div class="box">
            <a href="/Deleta.html"><img src="/Img-Site/deletar-usuario.png" alt="Página Configurações"></a>
        </div>

        <div class="box">
            <img id="sair-app" onclick="sair()" src="/Img-Site/sair.png" alt="sair">
        </div>
    </footer>
    
    
    <script>
        function preencherCarteirinha(aluno) {
            document.getElementById('nome-aluno').textContent = aluno.nome;
            document.getElementById('data-aluno').textContent = aluno.dataNascimento;
            document.getElementById('uni-aluno').textContent = aluno.unidade;
            document.getElementById('imagem-aluno').src = aluno['img-aluno'];
            document.getElementById('qr-code').src = aluno['qr-code'];
    
            // Define a data atual
            const dataAtual = new Date();
            const options = { day: '2-digit', month: '2-digit', year: 'numeric' };
            const dataAtualFormatada = dataAtual.toLocaleDateString('pt-BR', options);
    
            // Calcula a data de validade (6 meses a partir da data atual)
            const dataValidade = new Date();
            dataValidade.setMonth(dataAtual.getMonth() + 6);
            const dataValidadeFormatada = dataValidade.toLocaleDateString('pt-BR', options);
    
            // Exibe as datas
            document.getElementById('vali-aluno').textContent = `${dataAtualFormatada} Até ${dataValidadeFormatada}`;
        }

        // Função sair
        function sair() {
            Swal.fire({
                title: "Você tem certeza?",
                text: "Você não poderá reverter essa ação!",
                icon: "warning",
                showCancelButton: true,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "Sim, sair!",
                cancelButtonText: "Cancelar"
            }).then((result) => {
                if (result.isConfirmed) {
                    Swal.fire({
                        title: "Desconectado!",
                        text: "Você saiu do aplicativo com sucesso.",
                        icon: "success"
                    });
                    window.location.href = '/Index.html';
                }
            });
        }
    </script>
    
    <script src="/script.js"></script>
</body>
</html>